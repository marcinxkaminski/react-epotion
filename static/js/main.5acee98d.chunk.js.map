{"version":3,"sources":["Epotion.styles.js","helpers.js","Epotion.jsx","index.js"],"names":["textCenter","css","verticalAlignTop","button","root","Number","MAX_SAFE_INTEGER","minimized","container","buttonContainer","toggleSwitch","toggleSwitchActive","titleWrapper","title","content","readMore","currentEmotionEmoji","getEmotionEmoji","emotion","role","aria-label","getEpotionIcon","Epotion","text","readMoreText","readMoreUrl","startTrackingText","stopTrackingText","customReporter","enableReporting","useState","isOpen","setIsOpen","isMinimized","setIsMinimized","isTracking","setIsTracking","currentEmotion","setCurrentEmotion","useEffect","a","init","initEpotion","on","EVENTS","TRACKED","className","styles","onClick","target","href","type","onChange","shouldTrack","checked","startTracking","stopTracking","defaultProps","ReactDOM","render","StrictMode","image","data","document","querySelector","innerHTML","JSON","stringify","undefined","appendChild"],"mappings":"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","file":"static/js/main.5acee98d.chunk.js","sourcesContent":["import { css } from '@emotion/css';\n\nexport const textCenter = css`\n  text-align: center;\n`;\n\nexport const verticalAlignTop = css`\n  vertical-align: 'top';\n`;\n\nexport const button = css`\n  border: none;\n  color: #fff;\n  outline: none;\n  background: #121212;\n  cursor: pointer;\n  &:hover {\n    opacity: 0.8;\n  }\n`;\n\nexport const root = css`\n  position: absolute;\n  z-index: ${Number.MAX_SAFE_INTEGER};\n  right: 50px;\n  bottom: 50px;\n  color: #fff;\n  text-align: center;\n  background: #121212;\n  font-family: 'Arial';\n  -webkit-box-shadow: 0px 15px 35px 0px rgba(0, 0, 0, 0.4);\n  -moz-box-shadow: 0px 15px 35px 0px rgba(0, 0, 0, 0.4);\n  box-shadow: 0px 15px 35px 0px rgba(0, 0, 0, 0.4);\n`;\n\nexport const minimized = css`\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  font-size: 25px;\n  -webkit-transition: all 0.3s ease-in-out;\n  transition: all 0.3s ease-in-out;\n  &:hover {\n    box-shadow: none;\n    -webkit-transform: rotate(-45deg);\n    transform: rotate(-45deg);\n  }\n`;\n\nexport const container = css`\n  width: 250px;\n  height: 250px;\n  padding: 15px;\n  border-radius: 20px;\n`;\n\nexport const buttonContainer = css`\n  text-align: right;\n  padding: 0;\n  button {\n    padding: 0 0.5em;\n  }\n`;\n\nexport const toggleSwitch = css`\n  width: 160px;\n  height: 35px;\n  display: inline-block;\n  font-size: 1em;\n  border-radius: 20px;\n  background: #03dac6;\n  margin: 10px 0;\n  line-height: 2.15;\n  transition: all 0.3s ease-in-out;\n  input {\n    display: none;\n  }\n`;\n\nexport const toggleSwitchActive = css`\n  background: #b00020;\n`;\n\nexport const titleWrapper = css`\n  margin: 20px 0;\n`;\n\nexport const title = css`\n  text-transform: uppercase;\n  letter-spacing: 0.4em;\n  font-size: 1.3em;\n  vertical-align: bottom;\n  height: 25px;\n  display: inline;\n`;\n\nexport const content = css`\n  font-size: 0.9em;\n  margin: 20px 0;\n  height: 80px;\n  text-align: justify;\n`;\n\nexport const readMore = css`\n  color: #03dac6;\n  &:hover {\n    opacity: 0.8;\n  }\n`;\n\nexport const currentEmotionEmoji = css`\n  font-size: 65px;\n`;\n","export const getEmotionEmoji = (emotion) => {\n  switch (emotion) {\n    case 'neutral':\n      return (\n        <span role=\"img\" aria-label=\"Expressionless Face emoji\">\n          ğŸ˜‘\n        </span>\n      );\n\n    case 'happy':\n      return (\n        <span role=\"img\" aria-label=\"Smiling Face with Smiling Eyes emoji\">\n          ğŸ˜Š\n        </span>\n      );\n\n    case 'sad':\n      return (\n        <span role=\"img\" aria-label=\"Slightly Frowning Face emoji\">\n          ğŸ™\n        </span>\n      );\n\n    case 'angry':\n      return (\n        <span role=\"img\" aria-label=\"Angry Face emoji\">\n          ğŸ˜ \n        </span>\n      );\n\n    case 'fearful':\n      return (\n        <span role=\"img\" aria-label=\"Fearful Face emoji\">\n          ğŸ˜¨\n        </span>\n      );\n\n    case 'disgusted':\n      return (\n        <span role=\"img\" aria-label=\"Nauseated Face emoji\">\n          ğŸ¤¢\n        </span>\n      );\n\n    case 'surprised':\n      return (\n        <span role=\"img\" aria-label=\"Face with Open Mouth emoji\">\n          ğŸ˜®\n        </span>\n      );\n\n    default:\n      return (\n        <span role=\"img\" aria-label=\"Robot Face emoji\">\n          ğŸ¤–\n        </span>\n      );\n  }\n};\n\nexport const getEpotionIcon = () => (\n  <span role=\"img\" aria-label=\"Potion emoji\">\n    ğŸ§ª\n  </span>\n);\n","import { css } from '@emotion/css';\nimport { EVENTS, init, on, startTracking, stopTracking } from 'epotion';\nimport { bool, func, string } from 'prop-types';\nimport { useEffect, useState } from 'react';\n\nimport * as styles from './Epotion.styles';\nimport { getEmotionEmoji, getEpotionIcon } from './helpers';\n\nconst Epotion = ({\n  minimized,\n  text,\n  readMoreText,\n  readMoreUrl,\n  startTrackingText,\n  stopTrackingText,\n  customReporter,\n  enableReporting,\n}) => {\n  const [isOpen, setIsOpen] = useState(true);\n  const [isMinimized, setIsMinimized] = useState(minimized);\n  const [isTracking, setIsTracking] = useState();\n  const [currentEmotion, setCurrentEmotion] = useState();\n\n  useEffect(() => {\n    const initEpotion = async () => {\n      await init();\n    };\n    initEpotion();\n    on(EVENTS.TRACKED, ({ emotion }) => setCurrentEmotion(emotion));\n  }, []);\n\n  const toggleTracking = ({ target: { checked: shouldTrack } }) => {\n    if (shouldTrack) {\n      startTracking(customReporter, enableReporting);\n    } else {\n      stopTracking();\n    }\n\n    setIsTracking(shouldTrack);\n  };\n\n  if (!isOpen) return null;\n\n  if (isMinimized) {\n    return (\n      <button\n        className={css(styles.root, styles.button, styles.minimized)}\n        onClick={() => setIsMinimized(false)}\n      >\n        {!isTracking && getEpotionIcon()}\n        {isTracking && getEmotionEmoji(currentEmotion)}\n      </button>\n    );\n  }\n\n  return (\n    <div className={css(styles.root, styles.container)}>\n      <div className={styles.buttonContainer}>\n        <button\n          className={css(styles.button, styles.verticalAlignTop)}\n          onClick={() => setIsMinimized(true)}\n        >\n          _\n        </button>\n        <button className={styles.button} onClick={() => setIsOpen(false)}>\n          x\n        </button>\n      </div>\n\n      <div className={styles.titleWrapper}>\n        <h1 className={styles.title}>Epotion</h1>\n        {getEpotionIcon()}\n      </div>\n\n      {!isTracking && (\n        <p className={styles.content}>\n          {`${text} `}\n          <a className={styles.readMore} target=\"__blank\" href={readMoreUrl}>\n            {readMoreText}\n          </a>\n        </p>\n      )}\n\n      {isTracking && (\n        <div className={css(styles.content, styles.textCenter, styles.currentEmotionEmoji)}>\n          {getEmotionEmoji(currentEmotion)}\n        </div>\n      )}\n\n      <label\n        className={css(styles.button, styles.toggleSwitch, isTracking && styles.toggleSwitchActive)}\n      >\n        <input type=\"checkbox\" onChange={toggleTracking} checked={isTracking} />\n        <span>{isTracking ? stopTrackingText : startTrackingText}</span>\n      </label>\n    </div>\n  );\n};\n\nEpotion.defaultProps = {\n  minimized: false,\n  text:\n    'Allow us to track your emotions while you browse the page so we could provide you with better user experience. Data is collected anonymously.',\n  readMoreText: 'Click here to read more.',\n  readMoreUrl: 'https://marcinxkaminski.github.io/epotion-api/epotion.html',\n  startTrackingText: 'ğŸš€ start tracking',\n  stopTrackingText: 'âœ‹ğŸ» stop tracking',\n  enableReporting: true,\n};\n\nEpotion.propTypes = {\n  minimized: bool,\n  text: string,\n  readMoreText: string,\n  readMoreUrl: string,\n  startTrackingText: string,\n  stopTrackingText: string,\n  customReporter: func,\n  enableReporting: bool,\n};\n\nexport default Epotion;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Epotion from './Epotion';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Epotion\n      customReporter={({ image, ...data }) => {\n        // eslint-disable-next-line eslint-comments/no-unlimited-disable,no-unsanitized/property,xss/no-mixed-html\n        document.querySelector('#result').innerHTML = JSON.stringify(data, undefined, 4);\n        // eslint-disable-next-line eslint-comments/no-unlimited-disable,no-unsanitized/property,xss/no-mixed-html\n        document.querySelector('#photo-container').innerHTML = '';\n        // eslint-disable-next-line eslint-comments/no-unlimited-disable,no-unsanitized/property,xss/no-mixed-html,unicorn/prefer-dom-node-append\n        document.querySelector('#photo-container').appendChild(image);\n      }}\n    />\n  </React.StrictMode>,\n  document.querySelector('#root'),\n);\n"],"sourceRoot":""}